schema: '2.0'
stages:
  tiler:
    cmd: C:\Develop\Python\Python37\python.exe ..\..\tools\Tiler\tiler.py
    deps:
    - path: ..\..\tools\Tiler\tiler.py
      md5: b21cfbbc447f607bf9a41b4b95e79fce
      size: 4322
    - path: ..\raw\environment
      md5: b875a0fb313e75c382028e53c0df9437.dir
      size: 171018
      nfiles: 2
    - path: ..\raw\inventory
      md5: f4523151e55fc6ad815778f396d78c7c.dir
      size: 74820
      nfiles: 4
    outs:
    - path: ..\..\logs\tiler_log.txt
      md5: 5256a159dde5d46891f9f04f292abbc7
      size: 289
  recliner2gcbm_x64:
    cmd: tools\Recliner2GCBM-x64\Recliner2GCBM.exe -c input_database\recliner2gcbm_config.json
    deps:
    - path: input_database\ArchiveIndex_Beta_Install.mdb
      md5: cd2c5c746b9e58b10625848874852d02
      size: 3825664
    - path: input_database\Growth_Curves.csv
      md5: da8966db429badd5475f6c78c0bf6e2b
      size: 15236
    - path: input_database\gcbm_input.db
      md5: 4171522604a34a4a6430286b554e3982
      size: 1544192
    - path: input_database\recliner2gcbm_config.json
      md5: 2330cdd4e564c0fb85cd49cef2961ec2
      size: 6251
    - path: tools\recliner2gcbm-x64\recliner2gcbm.exe
      md5: a45c702ad1c9aff92edc6493cff99450
      size: 6656
  add_species_vol_to_bio:
    cmd: C:\Develop\Python\Python37\python.exe input_database\add_species_vol_to_bio.py
      input_database\gcbm_input.db
    deps:
    - path: input_database\add_species_vol_to_bio.py
      md5: d819622c127ca778f99d2e8eb9e5efc4
      size: 3012
    - path: input_database\gcbm_input.db
      md5: 106a885f18b29417d6cd2efa0093b60a
      size: 1544192
  modify_root_parameters:
    cmd: C:\Develop\Python\Python37\python.exe input_database\modify_root_parameters.py
      input_database\gcbm_input.db
    deps:
    - path: input_database\gcbm_input.db
      md5: 366e839cf0890838c636b9c1ae63c443
      size: 1544192
    - path: input_database\modify_root_parameters.py
      md5: bbb360bcc55ad3bb0aaf4bdac1802a5e
      size: 1031
  modify_turnover_parameters:
    cmd: C:\Develop\Python\Python37\python.exe input_database\modify_turnover_parameters.py
      input_database\gcbm_input.db
    deps:
    - path: input_database\custom_parameters\turnover_parameters.csv
      md5: 854a070d01b3cedc5a54e00906669ca2
      size: 1023
    - path: input_database\gcbm_input.db
      md5: fc11d49cacd4dcd22429495479e848f9
      size: 1544192
    - path: input_database\modify_turnover_parameters.py
      md5: 84825f833a0dba6c65db9aedf94797a2
      size: 1217
  modify_decay_parameters:
    cmd: C:\Develop\Python\Python37\python.exe input_database\modify_turnover_parameters.py
      input_database\gcbm_input.db
    deps:
    - path: input_database\custom_parameters\decay_parameters.csv
      md5: 6c21ebbe9e192e5502f5510ddb89542e
      size: 1496
    - path: input_database\gcbm_input.db
      md5: f8fff14f14bf70dbfd520cea7bce8c48
      size: 1544192
    - path: input_database\modify_decay_parameters.py
      md5: 55588114a0e80fca083fbfd27bda22ae
      size: 1207
  modify_spinup_parameters:
    cmd: C:\Develop\Python\Python37\python.exe input_database\modify_spinup_parameters.py
      input_database\gcbm_input.db
    deps:
    - path: input_database\gcbm_input.db
      md5: 4fc4c1e8ca34fc4ab4c68e9c05ab6aac
      size: 1544192
    - path: input_database\modify_spinup_parameters.py
      md5: b51a7083a95558aa11726b514fc9db78
      size: 1158
  update_GCBM_configuration:
    cmd: C:\Develop\Python\Python37\python.exe tools\tiler\update_gcbm_config.py --layer_root
      layers\tiled --template_path gcbm_project\templates --output_path gcbm_project
      --input_db_path input_database\gcbm_input.db --start_year 1900 --end_year 2050
      --log_path logs
    deps:
    - path: gcbm_project\templates
      md5: 047934a7ec23802205598f4c06e8ed39.dir
      size: 115691
      nfiles: 11
    - path: input_database\gcbm_input.db
      md5: 4fc4c1e8ca34fc4ab4c68e9c05ab6aac
      size: 1544192
    - path: layers\tiled
      md5: bd8cdc0961b99a871bedc92b0dcadc89.dir
      size: 44571
      nfiles: 8
    - path: tools\tiler\update_gcbm_config.py
      md5: 3e04cbc0ee3588cc13f711750b8cda1e
      size: 18002
    outs:
    - path: logs\update_gcbm_config.log
      md5: 28feba44182f2183fe8b484f0c2d21f1
      size: 586
  run_gcbm:
    cmd: ..\tools\GCBM\moja.cli.exe --config_file gcbm_config.cfg --config_provider
      provider_config.json
    deps:
    - path: ..\input_database\gcbm_input.db
      md5: 4fc4c1e8ca34fc4ab4c68e9c05ab6aac
      size: 1544192
    - path: ..\tools\GCBM\moja.cli.exe
      md5: 22ea736fd836612c2d9a8330572cdcff
      size: 125440
    - path: gcbm_config.cfg
      md5: 4ba9c157d6b3d8462bae8be993063fcc
      size: 176
    - path: output\gcbm_output.db
      md5: 50ae5f13bf4a267adebfed3f098b36a4
      size: 1134592
    - path: provider_config.json
      md5: 73ea905de1ec488f940f9fec4a3189c4
      size: 978
    outs:
    - path: ..\logs\Moja_Debug.log
      md5: 15ce86120afc81839a0dac56840e1e2f
      size: 269719
  create_tiffs:
    cmd: create_tiffs.bat
    deps:
    - path: ..\..\gcbm_project\output
      md5: 3d5abe13f80fce88a75f77a4e3a04fe2.dir
      size: 1134592
      nfiles: 1
    - path: create_tiffs.bat
      md5: bec4a5fd158f970c52309eaeb6d55c33
      size: 1034
    - path: create_tiffs.py
      md5: 24fe644eb30b67b82ea38f3c6e6211ad
      size: 5675
    outs:
    - path: ..\..\logs\create_tiffs.log
      md5: a985aa2627b922a85605f4700f272c39
      size: 181890
    - path: ..\..\processed_output\spatial
      md5: afbd3bbd39b0e2e60eb77d219fc477c3.dir
      size: 94234693
      nfiles: 2718
  compile_results:
    cmd: compileGCBMResults.bat
    deps:
    - path: ..\..\gcbm_project\output\gcbm_output.db
      md5: f66091453401677ca4073e74e774ec5e
      size: 4575232
    - path: ..\..\processed_output\compiled_gcbm_output.db
      md5: 50f1fbe47c97cc06fd0000630d487f25
      size: 3350528
    - path: compileGCBMResults.bat
      md5: 9d9372e41d38eac02690ea9104cdaeba
      size: 551
    - path: compileresults.json
      md5: c1664af923128ae8641b521fc330f439
      size: 17854
    - path: compileresults.py
      md5: da1f6e4096059269778566aac39d4c72
      size: 14135
  post_processing:
    cmd: C:\Develop\R-4.1.3\bin\R.exe CMD BATCH Summarize_DOM_Stocks.R
    deps:
    - path: ..\Standalone_GCBM\processed_output\compiled_gcbm_output.db
      md5: 50f1fbe47c97cc06fd0000630d487f25
      size: 3350528
    - path: Rplots.pdf
      md5: 67b745a9d29aa182c462e5eb35863f94
      size: 45763
    - path: Summarize_DOM_Stocks.R
      md5: 6e592625d1b1bb030d32767f89214fa5
      size: 5805
    - path: Tables
      md5: a0c47032513d4617d14dafa889706f92.dir
      size: 753009
      nfiles: 17
    outs:
    - path: Figures\Belize_Sensitivity_TropicalDry.png
      md5: ad0f3c4ff72b2baefa0c4688d5a54784
      size: 104885
    - path: Figures\Belize_Sensitivity_TropicalMoist.png
      md5: 1252042782c66688449feb2cfb753810
      size: 106807
    - path: Figures\Belize_Sensitivity_TropicalPremontane.png
      md5: a5ba2b16088996d4b4e62cd842aee84e
      size: 109268
